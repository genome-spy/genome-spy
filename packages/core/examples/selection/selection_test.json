{
  "$schema": "https://unpkg.com/@genome-spy/core/dist/schema.json",

  "params": [
    {
      "name": "pointSelection"
    }
  ],

  "data": {
    "values": [
      { "x": 1, "y": "How" },
      { "x": 2, "y": "are" },
      { "x": 3, "y": "you?" }
    ]
  },

  "transform": [{ "type": "identifier" }],

  "encoding": {
    "x": { "field": "x", "type": "ordinal" },
    "text": { "field": "y" }
  },

  "resolve": { "scale": { "x": "shared" }, "axis": { "x": "shared" } },

  "vconcat": [
    {
      "params": [
        {
          "name": "pointSelection",
          "push": "outer",
          "select": {
            "type": "point",
            "on": "mouseover",
            "keyFields": ["x"]
          }
        }
      ],

      "transform": [
        {
          "type": "formula",
          "expr": "selectionTest(pointSelection, datum, false)",
          "as": "selected"
        }
      ],

      "encoding": {
        "strokeWidth": {
          "field": "selected",
          "type": "nominal",
          "scale": {
            "type": "ordinal",
            "domain": [false, true],
            "range": [0, 4]
          }
        }
      },

      "mark": {
        "type": "point",
        "size": 3000,
        "stroke": "black"
      }
    },

    {
      "transform": [{ "type": "filter", "param": "pointSelection" }],
      "mark": { "type": "text", "size": 30 }
    },

    {
      "transform": [
        { "type": "filter", "expr": "selectionTest(pointSelection, datum)" }
      ],
      "mark": { "type": "text", "size": 30 }
    }
  ]
}
